<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="google-site-verification" content="5erUS4gnK8jPbyyalGJYX_MhW_-3CRyS343ygihqevc" />
<title>KUNEFecraft | Minecraft Oyna | Eaglercraft Tarayıcı MC</title>
<meta name="description" content="Kunefecraft ile tarayıcıdan beleş Minecraft oyna! Eaglercraft, kunefe, craft, mc ve daha fazlası şimdi ücretsiz!" />
<meta name="keywords" content="kunefe, kunefecraft, craft, minecraft, eagler, eaglercraft, minecraft oyna, minecraft bedava, beleş minecraft, mc" />
<link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet" />
<style>
  html, body {
    margin: 0; padding: 0;
    height: 100%; width: 100%;
    font-family: 'Luckiest Guy', cursive;
    overflow: hidden;
    background: url('https://3dduvarkagitlari.com/Content/images/2023/7/26/l/3dduvarkagitlari-31da547a.jpg') no-repeat center center fixed;
    background-size: cover;
    position: relative;
  }
  #start-screen {
    position: absolute;
    top:0; left:0; right:0; bottom:0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: white;
    text-shadow: 2px 2px 4px #000;
    z-index: 10;
  }
  h1 {
    font-size: 4em;
    margin-bottom: 20px;
  }
  #play-button {
    position: relative;
    font-size: 1.8em;
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: #ff9900;
    color: #000;
    overflow: visible;
    z-index: 20;
  }
  #play-button:focus {
    outline: none;
  }
  canvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 15;
  }
  iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: none;
    position: relative;
    z-index: 5;
  }
</style>
</head>
<body>
  <div id="start-screen">
    <h1>KÜNEFECRAFT</h1>
    <button id="play-button">OYNA</button>
  </div>
  <canvas id="rain-canvas"></canvas>
  <iframe id="game-frame" src="eaglercraft.html"></iframe>

  <audio id="bg-music" src="assets/minecraft.mp3" loop></audio>

<script>
  const canvas = document.getElementById('rain-canvas');
  const ctx = canvas.getContext('2d');
  let width, height;

  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
  }
  window.addEventListener('resize', resize);
  resize();

  class Raindrop {
    constructor() {
      this.x = Math.random() * width;
      this.y = Math.random() * -height; // yukarıdan rastgele başla
      this.length = 15 + Math.random() * 10;
      this.speed = 4 + Math.random() * 4;
      this.opacity = 0.2 + Math.random() * 0.5;
      this.width = 1;
      this.isSplashing = false;
    }
    update() {
      if (!this.isSplashing) {
        this.y += this.speed;
        if (this.y > height - 5) {  // yere değdiğinde sıçrama başlat
          this.isSplashing = true;
          createSplash(this.x, height - 5);
        }
      }
    }
    draw() {
      if (!this.isSplashing) {
        ctx.beginPath();
        ctx.strokeStyle = `rgba(255, 255, 255, ${this.opacity})`;
        ctx.lineWidth = this.width;
        ctx.moveTo(this.x, this.y);
        ctx.lineTo(this.x, this.y + this.length);
        ctx.stroke();
      }
    }
  }

  class SplashParticle {
    constructor(x, y) {
      this.x = x;
      this.y = y;
      this.radius = Math.random() * 3 + 2;
      this.alpha = 1;
      this.speedX = (Math.random() - 0.5) * 4;
      this.speedY = - (Math.random() * 3 + 2);
      this.gravity = 0.15;
    }
    update() {
      this.x += this.speedX;
      this.y += this.speedY;
      this.speedY += this.gravity;
      this.alpha -= 0.04;
    }
    draw() {
      if(this.alpha > 0){
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
        ctx.fill();
      }
    }
  }

  let raindrops = [];
  let splashParticles = [];

  function createSplash(x, y) {
    for(let i = 0; i < 7; i++) {
      splashParticles.push(new SplashParticle(x, y));
    }
  }

  // Başlangıç için 100 damla
  for(let i=0; i<100; i++) {
    raindrops.push(new Raindrop());
  }

  function animate() {
    ctx.clearRect(0, 0, width, height);

    raindrops.forEach((drop, index) => {
      drop.update();
      drop.draw();
      // Yere değen damla yeni bir damla ile değiştirilir
      if(drop.isSplashing) {
        raindrops[index] = new Raindrop();
      }
    });

    splashParticles.forEach((sp, index) => {
      sp.update();
      sp.draw();
      if(sp.alpha <= 0) {
        splashParticles.splice(index,1);
      }
    });

    requestAnimationFrame(animate);
  }

  animate();

  const music = document.getElementById('bg-music');
  const playBtn = document.getElementById('play-button');
  const startScreen = document.getElementById('start-screen');
  const gameFrame = document.getElementById('game-frame');

  window.addEventListener('load', () => {
    music.play().catch(() => {
      console.log('Otomatik müzik çalamadı, butona basınca başlayacak.');
    });
  });

  playBtn.addEventListener('click', () => {
    music.play();
    startScreen.style.display = 'none';
    gameFrame.style.display = 'block';
  });
</script>
</body>
</html>
